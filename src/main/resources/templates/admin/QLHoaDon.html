

<body>
    <h2>Qu·∫£n l√Ω H√≥a ƒê∆°n</h2>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Ng√†y t·∫°o</th>
                <th>Tr·∫°ng th√°i</th>
                <th>ƒê·ªãa ch·ªâ</th>
                <th>Giao h√†ng</th>
                <th>Ng∆∞·ªùi d√πng</th>
                <th>H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="hd : ${hoaDons}">
                <td th:text="${hd.idHoaDon}"></td>
                <td th:text="${hd.ngayTao}"></td>
            <td>
    <form th:action="@{'/admin/hoadon/updateStatus/' + ${hd.idHoaDon}}" method="post">
        <select name="status">
            <option value="Ch·ªù x√°c nh·∫≠n" 
                th:selected="${hd.trangThai == 'ƒê·∫∑t h√†ng th√†nh c√¥ng v√† ƒëang ch·ªù x·ª≠ l√Ω'}">ƒê·∫∑t h√†ng th√†nh c√¥ng v√† ƒëang ch·ªù x·ª≠ l√Ω</option>
            <option value="ƒê√£ x√°c nh·∫≠n" 
                th:selected="${hd.trangThai == 'ƒê√£ x√°c nh·∫≠n'}">ƒê√£ x√°c nh·∫≠n</option>
            <option value="ƒêang giao h√†ng" 
                th:selected="${hd.trangThai == 'ƒêang giao h√†ng'}">ƒêang giao h√†ng</option>
            <option value="ƒê√£ giao th√†nh c√¥ng" 
                th:selected="${hd.trangThai == 'ƒê√£ giao th√†nh c√¥ng'}">ƒê√£ giao th√†nh c√¥ng</option>
            <option value="ƒê√£ h·ªßy" 
                th:selected="${hd.trangThai == 'ƒê√£ h·ªßy'}">ƒê√£ h·ªßy</option>
        </select>
        <button type="submit">C·∫≠p nh·∫≠t</button>
    </form>
</td>

                <td th:text="${hd.diaChi}"></td>
                <td th:text="${hd.giaoHang}"></td>
                <td th:text="${hd.user.idUser}"></td>
                <td>
                    <a th:href="@{'/admin/hoadon/view/' + ${hd.idHoaDon}}">üîç Xem</a> |
                    <a th:href="@{'/admin/hoadon/delete/' + ${hd.idHoaDon}}"
                       onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën xo√° h√≥a ƒë∆°n n√†y?')">‚ùå Xo√°</a>
                </td>
            </tr>
        </tbody>
    </table>
    <script>
const root=document.documentElement;
const THEME_KEY='ps_theme';
function applyTheme(t){t==='light'?root.classList.add('light'):root.classList.remove('light');}
applyTheme(localStorage.getItem(THEME_KEY)||'');
document.getElementById('themeBtn').addEventListener('click', ()=>{
  const nowLight=!root.classList.contains('light');
  applyTheme(nowLight?'light':'');
  localStorage.setItem(THEME_KEY,nowLight?'light':'');
});
document.getElementById('toggleSidebar').addEventListener('click', ()=>{
  document.querySelector('.app').classList.toggle('collapsed');
});
// Chart
const ctx=document.getElementById('revenueChart').getContext('2d');
new Chart(ctx,{
  type:'line',
  data:{
    labels:['Ng√†y 1','Ng√†y 2','Ng√†y 3','Ng√†y 4','Ng√†y 5','Ng√†y 6','Ng√†y 7'],
    datasets:[{
      label:'Doanh thu',
      data:[1,2,1.5,3,4,6,5],
      backgroundColor:'rgba(0,123,255,0.2)',
      borderColor:'#007bff',
      borderWidth:2,
      fill:true,
      tension:0.3,
      pointBackgroundColor:'#007bff'
    }]
  },
  options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}
});
</script>
</body>
</html>
