<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Qu·∫£n l√Ω s·∫£n ph·∫©m</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#9ca3af;
  --brand:#6366f1; --brand-2:#22c55e; --danger:#ef4444; --border:#1f2937;
  --card:#0b1220; --shadow:0 10px 30px rgba(0,0,0,.25);
}
:root.light{
  --bg:#f3f4f6; --panel:#fff; --text:#0f172a; --muted:#6b7280;
  --brand:#4f46e5; --brand-2:#16a34a; --danger:#dc2626; --border:#e5e7eb;
  --card:#fff; --shadow:0 10px 20px rgba(0,0,0,.06);
}
*{box-sizing:border-box;}
body{margin:0; background:var(--bg); color:var(--text); font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;}

/* Layout */
.app { display:grid; grid-template-columns:260px 1fr; min-height:100vh; transition: grid-template-columns 0.3s;}
.app.collapsed { grid-template-columns:76px 1fr; }
.sidebar { background:var(--panel); border-right:1px solid var(--border); padding:16px; display:flex; flex-direction:column; gap:12px; transition:all 0.3s;}
.brand{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:12px;background:linear-gradient(135deg,var(--brand),#0ea5e9);color:#fff;box-shadow:var(--shadow);}
.brand .logo{width:34px;height:34px;border-radius:10px;background:rgba(255,255,255,.2);display:grid;place-items:center;font-weight:700;}
.nav{margin-top:8px;display:flex;flex-direction:column;gap:6px;}
.nav a{display:flex;align-items:center;gap:10px;padding:10px 12px;color:var(--text);text-decoration:none;border-radius:10px;border:1px solid transparent;}
.nav a:hover{background:rgba(99,102,241,.12);border-color:rgba(99,102,241,.25);}
.nav a.active{background:rgba(99,102,241,.18);border-color:rgba(99,102,241,.35);}
.note{margin-top:auto;font-size:12px;color:var(--muted);border:1px dashed var(--border);padding:10px;border-radius:10px;background:rgba(148,163,184,.04);}
.app.collapsed .sidebar .brand span,
.app.collapsed .sidebar .nav a span:nth-child(2){display:none;}

.content{display:flex;flex-direction:column;transition:all 0.3s;}
header{position:sticky;top:0;z-index:5;background:var(--panel);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px;padding:10px 16px;}
.icon-btn{border:1px solid var(--border);background:transparent;color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer;}
.search{flex:1;display:flex;align-items:center;gap:10px;background:var(--card);border:1px solid var(--border);padding:8px 12px;border-radius:12px;}
.search input{flex:1;background:transparent;border:0;outline:none;color:var(--text);}
.right{display:flex;align-items:center;gap:10px;}
.avatar{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,#22c55e,#06b6d4);}
main{padding:18px;display:flex;flex-direction:column;gap:18px;}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow);}
table{width:100%;border-collapse:collapse;font-size:13px;}
th,td{padding:10px 8px;border-bottom:1px solid var(--border);text-align:left;}
th{color:var(--muted);font-weight:600;}
tr:hover td{background:rgba(148,163,184,.06);}
button{cursor:pointer;background-color:var(--brand);color:#fff;border:none;padding:8px 16px;border-radius:5px;margin-top:5px;}
button:hover{background-color:#5555ff;}
.pagination a{margin:0 10px;text-decoration:none;color:var(--brand);}
.pagination span{font-weight:bold;}
  .search-form {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 20px;
  }

  .search {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 6px;
    background-color: var(--card, #fff);
    border: 1px solid var(--border, #ccc);
    padding: 8px 12px;
    border-radius: 12px;
  }

  .search input {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-size: 14px;
    color: var(--text, #333);
  }

  .search-btn {
    padding: 8px 16px;
    background-color: var(--brand, #6366f1);
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 600;
  }

  .search-btn:hover {
    background-color: #4f46e5;
  }
.logout-btn{
  margin-top:auto;display:flex;align-items:center;gap:10px;
  padding:10px 12px;color:var(--danger);text-decoration:none;border-radius:10px;
  border:1px solid transparent;font-size:14px;font-weight:500;transition:all 0.2s;
}
.logout-btn i{width:18px;text-align:center;}
.logout-btn:hover{background:rgba(239,68,68,.12);border-color:rgba(239,68,68,.25);}
</style>
</head>
<body>
<div class="app">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <button class="icon-btn" id="toggleSidebar">‚ò∞</button>
    <div class="brand">
      <div class="logo">üì±</div>
      <span><strong>PhoneShop</strong> Admin</span>
    </div>
    <nav class="nav">
      <a href="/admin/dashboard" ><i class="fas fa-home"></i><span>T·ªïng quan</span></a>
      <a href="/admin/users"><i class="fas fa-users"></i><span>Ng∆∞·ªùi d√πng</span></a>
      <a href="/admin/sanpham"class="active"><i class="fas fa-box"></i><span>S·∫£n ph·∫©m</span></a>
      <a href="/admin/hoadon"><i class="fas fa-file-invoice"></i><span>ƒê∆°n h√†ng</span></a>
      <a href="/admin/loai"><i class="fas fa-tags"></i><span>Lo·∫°i S·∫£n Ph·∫©m</span></a>
      <a href="/admin/khuyenmai"><i class="fas fa-gift"></i><span>Khuy·∫øn m√£i</span></a>
      <a href="#"><i class="fas fa-chart-bar"></i><span>B√°o c√°o</span></a>
    </nav>
    <a href="/logout" class="logout-btn"><i class="fas fa-sign-out-alt"></i><span>ƒêƒÉng xu·∫•t</span></a>
  </aside>

  <div class="content">
    <header>
      <form method="get" th:action="@{/admin/sanpham}" class="search" style="flex:1; display:flex; gap:8px;">
    üîé 
    <input type="text" name="keyword" placeholder="T√¨m theo t√™n..." th:value="${keyword}" />
    <button type="submit" class="search-btn">T√¨m</button>
  </form>
      <div class="right">
        <button class="icon-btn" id="themeBtn">üåì</button>
        <button class="icon-btn">üîî</button>
        <div class="avatar"></div>
      </div>
    </header>

    <main>


      <!-- Danh s√°ch s·∫£n ph·∫©m -->
      <table>
          <thead>
          <tr>
              <th>T√™n</th><th>Lo·∫°i</th><th>Gi√°</th><th>SL</th><th>H√†nh ƒë·ªông</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="sp : ${sanPhamPage.content}">
              <td th:text="${sp.tenSanPham}"></td>
              <td th:text="${sp.loai.tenLoai}"></td>
              <td th:text="${sp.gia}"></td>
              <td th:text="${sp.soLuong}"></td>
              <td>
                  <a th:href="@{'/admin/sanpham/edit/' + ${sp.idSanPham}}">S·ª≠a</a> |
                  <a th:href="@{'/admin/sanpham/delete/' + ${sp.idSanPham}}"
                     onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën xo√°?')">Xo√°</a>
              </td>
          </tr>
          </tbody>
      </table>

      <!-- Ph√¢n trang -->
      <div class="pagination">
          <a th:if="${currentPage > 0}"
             th:href="@{/admin/sanpham(page=${currentPage - 1}, keyword=${keyword})}">‚Üê Tr∆∞·ªõc</a>
          <span>Trang [[${currentPage + 1}]] / [[${sanPhamPage.totalPages}]]</span>
          <a th:if="${currentPage + 1 < sanPhamPage.totalPages}"
             th:href="@{/admin/sanpham(page=${currentPage + 1}, keyword=${keyword})}">Sau ‚Üí</a>
      </div>

    </main>
  </div>
</div>

<script>
const root=document.documentElement;
const THEME_KEY='ps_theme';
function applyTheme(t){t==='light'?root.classList.add('light'):root.classList.remove('light');}
applyTheme(localStorage.getItem(THEME_KEY)||'');
document.getElementById('themeBtn').addEventListener('click', ()=>{
  const nowLight = !root.classList.contains('light');
  applyTheme(nowLight?'light':'');
  localStorage.setItem(THEME_KEY, nowLight?'light':'');
});
document.getElementById('toggleSidebar').addEventListener('click', ()=>{
  document.querySelector('.app').classList.toggle('collapsed');
});
</script>
</body>
</html>
